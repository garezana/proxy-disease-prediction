---
title: "testing_models"
author: "garezana"
date: "2024-01-17"
output: html_document
---

```{r setup, include=FALSE}
#Libraries
library(dplyr)
library(stringr)
#Data
dengue_PR_2010_data = read.csv("data/2010_dengue_PR.csv")
municipality_PR_2010_data= read.csv("data/municipality_population.csv")
```

```{r}
#Merging data by comon substring
combine_dataframes = function(DF1, DF2, patterns, fulltext){
DF2 = DF2 %>% mutate({{patterns}} := str_extract(DF2[[fulltext]], regex(paste(DF1[[patterns]], collapse = "|")))) %>% left_join(DF1, by = patterns)
  return(DF2)
  
}
municipality_dengue_PR_2020_data = combine_dataframes( municipality_PR_2010_data, dengue_PR_2010_data, "MUNICIPIO", "FullGeoName")
```
